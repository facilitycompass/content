(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{W9vR:function(l,n,t){"use strict";t.r(n);var u=t("CcnG"),i=function(){return function(){}}(),e=t("pMnS"),o=t("oBZk"),r=t("ZZ/e"),s=t("Ip0R"),c=t("mrSG"),b=t("yTNM"),a=t("j+vm"),p=t("OaAi"),h=function(){function l(l,n,t,u){this.api=l,this.itemUtils=n,this.actionSheetController=t,this.utils=u,this.items=[],this.history=[],this.loading=!0,this.slideOpts={initialSlide:1,slidesPerView:3,spaceBetween:20}}return l.prototype.ngOnInit=function(){},l.prototype.onClick=function(l){var n=this;this.api.get("items",{id:l.itemId}).subscribe((function(l){var t=l.items[0];t&&n.itemUtils.onClick(t)}))},l.prototype.onClickHistoryItem=function(l){var n=this;this.api.get("items",{id:l.i}).subscribe((function(l){var t=l.items[0];t&&n.itemUtils.onClick(t)}))},l.prototype.ionViewDidEnter=function(){this.refresh()},l.prototype.delete=function(l){var n=this;l&&this.api.post("my-items/save",{userId:1,itemId:l.itemId,action:2}).subscribe((function(t){n.items.splice(n.items.indexOf(l),1)}))},l.prototype.refresh=function(){var l=this;this.api.get("my-items",{pageSize:20,pageIndex:0}).subscribe((function(n){l.items=n.items,l.loading=!1}));var n=window.localStorage;this.history=[],setTimeout((function(){l.history=JSON.parse(n.getItem("history"))||[]}))},l.prototype.presentActionSheet=function(){return c.b(this,void 0,void 0,(function(){var l,n=this;return c.e(this,(function(t){switch(t.label){case 0:return l=[],this.api.isLoggedIn()?l.push({text:"Sign out",role:"destructive",handler:function(){n.api.logOut(),n.refresh()}}):l.push({text:"Sign in",handler:function(){n.utils.ensureLogin().then((function(l){n.refresh()}))}}),l.push({text:"Clear all data",role:"destructive",handler:function(){window.localStorage.removeItem("history"),n.utils.deleteAllCache(),n.refresh()}}),[4,this.actionSheetController.create({buttons:l})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}}))}))},l}(),f=u.qb({encapsulation:0,styles:[[""]],data:{}});function d(l){return u.Jb(0,[(l()(),u.sb(0,0,null,null,1,"h3",[["style","padding-left:20px;"]],null,null,null,null,null)),(l()(),u.Ib(-1,null,["History"]))],null,null)}function m(l){return u.Jb(0,[(l()(),u.sb(0,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,(function(l,n){l(n,0,0,u.wb(1,"",n.parent.context.$implicit.p,""))}))}function g(l){return u.Jb(0,[(l()(),u.sb(0,0,null,null,3,"ion-slide",[],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.onClickHistoryItem(l.context.$implicit)&&u),u}),o.bb,o.w)),u.rb(1,49152,null,0,r.rb,[u.h,u.k,u.z],null,null),(l()(),u.hb(16777216,null,0,1,null,m)),u.rb(3,16384,null,0,s.i,[u.N,u.K],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,3,0,n.context.$implicit.p)}),null)}function k(l){return u.Jb(0,[(l()(),u.sb(0,0,null,null,1,"h3",[["style","padding-left:20px;padding-top:20px;"]],null,null,null,null,null)),(l()(),u.Ib(-1,null,["Saved Items"]))],null,null)}function I(l){return u.Jb(0,[(l()(),u.sb(0,0,null,null,0,"img",[["style","max-width:25%; margin-right:6px;"]],[[8,"src",4]],null,null,null,null))],null,(function(l,n){l(n,0,0,u.wb(1,"",n.parent.context.$implicit.thumbnailUrl,""))}))}function y(l){return u.Jb(0,[(l()(),u.sb(0,0,null,null,12,"ion-item-sliding",[],null,null,null,o.T,o.p)),u.rb(1,49152,null,0,r.N,[u.h,u.k,u.z],null,null),(l()(),u.sb(2,0,null,0,5,"ion-item",[["detail",""]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.onClick(l.context.$implicit)&&u),u}),o.U,o.m)),u.rb(3,49152,null,0,r.I,[u.h,u.k,u.z],{detail:[0,"detail"]},null),(l()(),u.hb(16777216,null,0,1,null,I)),u.rb(5,16384,null,0,s.i,[u.N,u.K],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(6,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),u.Ib(7,null,["",""])),(l()(),u.sb(8,0,null,0,4,"ion-item-options",[["side","end"]],null,null,null,o.S,o.o)),u.rb(9,49152,null,0,r.M,[u.h,u.k,u.z],{side:[0,"side"]},null),(l()(),u.sb(10,0,null,0,2,"ion-item-option",[["color","danger"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.delete(l.context.$implicit)&&u),u}),o.R,o.n)),u.rb(11,49152,null,0,r.L,[u.h,u.k,u.z],{color:[0,"color"]},null),(l()(),u.Ib(-1,0,["Delete"]))],(function(l,n){l(n,3,0,""),l(n,5,0,n.context.$implicit.thumbnailUrl),l(n,9,0,"end"),l(n,11,0,"danger")}),(function(l,n){l(n,7,0,n.context.$implicit.title)}))}function v(l){return u.Jb(0,[(l()(),u.sb(0,0,null,null,1,"ion-spinner",[],null,null,null,o.db,o.y)),u.rb(1,49152,null,0,r.tb,[u.h,u.k,u.z],null,null)],null,null)}function C(l){return u.Jb(0,[(l()(),u.sb(0,0,null,null,12,"ion-header",[],null,null,null,o.N,o.i)),u.rb(1,49152,null,0,r.C,[u.h,u.k,u.z],null,null),(l()(),u.sb(2,0,null,0,10,"ion-toolbar",[],null,null,null,o.jb,o.E)),u.rb(3,49152,null,0,r.Db,[u.h,u.k,u.z],null,null),(l()(),u.sb(4,0,null,0,2,"ion-title",[],null,null,null,o.ib,o.D)),u.rb(5,49152,null,0,r.Bb,[u.h,u.k,u.z],null,null),(l()(),u.Ib(-1,0,[" My Activity "])),(l()(),u.sb(7,0,null,0,5,"ion-buttons",[["slot","end"]],null,null,null,o.I,o.d)),u.rb(8,49152,null,0,r.m,[u.h,u.k,u.z],null,null),(l()(),u.sb(9,0,null,0,3,"ion-button",[],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.presentActionSheet()&&u),u}),o.H,o.c)),u.rb(10,49152,null,0,r.l,[u.h,u.k,u.z],null,null),(l()(),u.sb(11,0,null,0,1,"ion-icon",[["name","more"],["slot","icon-only"]],null,null,null,o.O,o.j)),u.rb(12,49152,null,0,r.D,[u.h,u.k,u.z],{name:[0,"name"]},null),(l()(),u.sb(13,0,null,null,15,"ion-content",[],null,null,null,o.L,o.g)),u.rb(14,49152,null,0,r.v,[u.h,u.k,u.z],null,null),(l()(),u.hb(16777216,null,0,1,null,d)),u.rb(16,16384,null,0,s.i,[u.N,u.K],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(17,0,null,0,3,"ion-slides",[["pager","true"]],null,null,null,o.cb,o.x)),u.rb(18,49152,null,0,r.sb,[u.h,u.k,u.z],{options:[0,"options"],pager:[1,"pager"]},null),(l()(),u.hb(16777216,null,0,1,null,g)),u.rb(20,278528,null,0,s.h,[u.N,u.K,u.s],{ngForOf:[0,"ngForOf"]},null),(l()(),u.hb(16777216,null,0,1,null,k)),u.rb(22,16384,null,0,s.i,[u.N,u.K],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(23,0,null,0,3,"ion-list",[],null,null,null,o.W,o.r)),u.rb(24,49152,null,0,r.P,[u.h,u.k,u.z],null,null),(l()(),u.hb(16777216,null,0,1,null,y)),u.rb(26,278528,null,0,s.h,[u.N,u.K,u.s],{ngForOf:[0,"ngForOf"]},null),(l()(),u.hb(16777216,null,0,1,null,v)),u.rb(28,16384,null,0,s.i,[u.N,u.K],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,12,0,"more"),l(n,16,0,t.history.length>0),l(n,18,0,t.slideOpts,"true"),l(n,20,0,t.history),l(n,22,0,t.items.length>0),l(n,26,0,t.items),l(n,28,0,t.loading)}),null)}function x(l){return u.Jb(0,[(l()(),u.sb(0,0,null,null,1,"app-tab3",[],null,null,null,C,f)),u.rb(1,114688,null,0,h,[b.a,a.a,r.a,p.a],null,null)],(function(l,n){l(n,1,0)}),null)}var w=u.ob("app-tab3",h,x,{},{},[]),z=t("gIcY"),S=t("ZYCi");t.d(n,"Tab3PageModuleNgFactory",(function(){return J}));var J=u.pb(i,[],(function(l){return u.Bb([u.Cb(512,u.j,u.ab,[[8,[e.a,w]],[3,u.j],u.x]),u.Cb(4608,s.k,s.j,[u.u,[2,s.q]]),u.Cb(4608,r.c,r.c,[u.z,u.g]),u.Cb(4608,r.Hb,r.Hb,[r.c,u.j,u.q]),u.Cb(4608,r.Kb,r.Kb,[r.c,u.j,u.q]),u.Cb(4608,z.d,z.d,[]),u.Cb(1073742336,s.b,s.b,[]),u.Cb(1073742336,r.Fb,r.Fb,[]),u.Cb(1073742336,z.c,z.c,[]),u.Cb(1073742336,z.a,z.a,[]),u.Cb(1073742336,S.n,S.n,[[2,S.s],[2,S.m]]),u.Cb(1073742336,i,i,[]),u.Cb(1024,S.k,(function(){return[[{path:"",component:h}]]}),[])])}))}}]);