(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"N9U+":function(l,n,t){"use strict";t.r(n);var u=t("8Y7J"),i=t("yTNM"),e=t("6cUc"),o=t("j+vm");class a{constructor(l,n,t,u,i){this.api=l,this.router=n,this.route=t,this.itemUtils=u,this.videoContext=i,this.items=[],this.hasMore=!1,this.filters={pageIndex:0,pageSize:20,tagIds:"",parentId:0,q:"",showLinkedItems:!1,authorId:0},this.showSearchBar=!1,this.listTitle=null;const e=this.route.snapshot.paramMap.get("tags"),o=this.route.snapshot.paramMap.get("parentId"),a=this.route.snapshot.paramMap.get("showLinkedItems"),r=this.route.snapshot.paramMap.get("authorId");e&&(this.filters.tagIds=e),o&&(this.filters.parentId=parseInt(o)),a&&(this.filters.showLinkedItems=1==parseInt(a)),r&&(this.filters.authorId=parseInt(r))}ngOnInit(){this.load((function(){}))}loadMore(l){this.filters.pageIndex++,this.load((function(){l.target.complete()}))}load(l){this.api.get("items",this.filters).subscribe(n=>{n.items.forEach(l=>{l.__photo=l.authorPhotoUrl||l.thumbnailUrl,l.showDetails=1==l.info||0==l.info||3==l.info,l.showTextOnly=3==l.info,l.showThumbnail=!l.showTextOnly}),0==this.filters.pageIndex&&(this.items=[]),this.items=this.items.concat(n.items),this.hasMore=n.items.length>=this.filters.pageSize,this.showSearchBar=this.items.length>20,this.listTitle=n.title,l&&l()})}onSearch(l){this.filters.pageIndex=0,this.filters.q=l.detail.value,this.load(l=>{})}onCancelSearch(){this.filters.pageIndex=0,this.filters.q="",this.load(l=>{}),this.showSearchBar=!1}onClick(l){this.itemUtils.onClick(l)}}class r{}var s=t("pMnS"),c=t("oBZk"),b=t("s7LF"),h=t("ZZ/e"),p=t("SVse"),f=t("iInd"),g=u.ob({encapsulation:0,styles:[[".text-only-item[_ngcontent-%COMP%]{background-color:#670000;color:#fff;padding:16px 8px;text-align:center;min-height:150px;background-image:url(https://cdn.jsdelivr.net/gh/facilitycompass/content/bs/bg/3.jpg);background-repeat:no-repeat;background-size:auto;background-position:center}.list-title-1[_ngcontent-%COMP%]{text-align:center;margin:14px;font-weight:700}ion-card[_ngcontent-%COMP%]{margin:0 0 20px;padding:0}@media screen and (min-width:576px){.text-only-item[_ngcontent-%COMP%]{min-height:320px}ion-card[_ngcontent-%COMP%]{min-height:360px}}ion-grid[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.item-title[_ngcontent-%COMP%]{padding:4px;color:#000}ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:16px}"]],data:{}});function d(l){return u.Hb(0,[(l()(),u.qb(0,0,null,null,3,"ion-searchbar",[["animated",""],["debounce","500"],["placeholder","Search"],["showCancelButton","focus"]],null,[[null,"ionChange"],[null,"ionCancel"],[null,"ionBlur"]],(function(l,n,t){var i=!0,e=l.component;return"ionBlur"===n&&(i=!1!==u.Cb(l,3)._handleBlurEvent(t.target)&&i),"ionChange"===n&&(i=!1!==u.Cb(l,3)._handleInputEvent(t.target)&&i),"ionChange"===n&&(i=!1!==e.onSearch(t)&&i),"ionCancel"===n&&(i=!1!==e.onCancelSearch()&&i),i}),c.ab,c.v)),u.Db(5120,null,b.b,(function(l){return[l]}),[h.Lb]),u.pb(2,49152,null,0,h.lb,[u.h,u.k,u.x],{animated:[0,"animated"],debounce:[1,"debounce"],placeholder:[2,"placeholder"],showCancelButton:[3,"showCancelButton"]},null),u.pb(3,16384,null,0,h.Lb,[u.k],null,null)],(function(l,n){l(n,2,0,"","500","Search","focus")}),null)}function m(l){return u.Hb(0,[(l()(),u.qb(0,0,null,null,5,"ion-buttons",[["slot","end"]],null,null,null,c.I,c.d)),u.pb(1,49152,null,0,h.m,[u.h,u.k,u.x],null,null),(l()(),u.qb(2,0,null,0,3,"ion-button",[],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=0!=(l.component.showSearchBar=!0)&&u),u}),c.H,c.c)),u.pb(3,49152,null,0,h.l,[u.h,u.k,u.x],null,null),(l()(),u.qb(4,0,null,0,1,"ion-icon",[["name","search"],["slot","icon-only"]],null,null,null,c.O,c.j)),u.pb(5,49152,null,0,h.D,[u.h,u.k,u.x],{name:[0,"name"]},null)],(function(l,n){l(n,5,0,"search")}),null)}function x(l){return u.Hb(0,[(l()(),u.qb(0,0,null,null,1,"div",[["class","list-title-1"]],null,null,null,null,null)),(l()(),u.Gb(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.component.listTitle)}))}function I(l){return u.Hb(0,[(l()(),u.qb(0,0,null,null,2,"div",[["class","text-only-item"]],null,null,null,null,null)),(l()(),u.qb(1,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),u.Gb(2,null,["",""]))],null,(function(l,n){l(n,2,0,n.parent.context.$implicit.title)}))}function k(l){return u.Hb(0,[(l()(),u.qb(0,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,(function(l,n){l(n,0,0,n.parent.context.$implicit.thumbnailUrl)}))}function q(l){return u.Hb(0,[(l()(),u.qb(0,0,null,null,1,"div",[["class","item-title"]],null,null,null,null,null)),(l()(),u.Gb(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.title)}))}function w(l){return u.Hb(0,[(l()(),u.qb(0,0,null,null,2,"ion-thumbnail",[["slot","start"]],null,null,null,c.hb,c.C)),u.pb(1,49152,null,0,h.Ab,[u.h,u.k,u.x],null,null),(l()(),u.qb(2,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null))],null,(function(l,n){l(n,2,0,n.parent.parent.context.$implicit.authorPhotoUrl)}))}function C(l){return u.Hb(0,[(l()(),u.qb(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Gb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.parent.parent.context.$implicit.author)}))}function v(l){return u.Hb(0,[(l()(),u.qb(0,0,null,null,9,"ion-item",[["lines","none"]],null,null,null,c.U,c.m)),u.pb(1,49152,null,0,h.I,[u.h,u.k,u.x],{lines:[0,"lines"]},null),(l()(),u.fb(16777216,null,0,1,null,w)),u.pb(3,16384,null,0,p.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.qb(4,0,null,0,5,"ion-label",[["class","ion-text-wrap"]],null,null,null,c.V,c.q)),u.pb(5,49152,null,0,h.O,[u.h,u.k,u.x],null,null),(l()(),u.fb(16777216,null,0,1,null,C)),u.pb(7,16384,null,0,p.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.qb(8,0,null,0,1,"b",[],null,null,null,null,null)),(l()(),u.Gb(-1,null,["\xa0"]))],(function(l,n){l(n,1,0,"none"),l(n,3,0,n.parent.context.$implicit.authorPhotoUrl),l(n,7,0,n.parent.context.$implicit.author)}),null)}function M(l){return u.Hb(0,[(l()(),u.qb(0,0,null,null,11,"ion-col",[["class","ion-no-margin ion-no-padding"],["size-lg","3"],["size-sm","6"],["size-xs","12"]],null,null,null,c.K,c.f)),u.pb(1,49152,null,0,h.u,[u.h,u.k,u.x],null,null),(l()(),u.qb(2,0,null,0,9,"ion-card",[],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.onClick(l.context.$implicit)&&u),u}),c.J,c.e)),u.pb(3,49152,null,0,h.n,[u.h,u.k,u.x],null,null),(l()(),u.fb(16777216,null,0,1,null,I)),u.pb(5,16384,null,0,p.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.fb(16777216,null,0,1,null,k)),u.pb(7,16384,null,0,p.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.fb(16777216,null,0,1,null,q)),u.pb(9,16384,null,0,p.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.fb(16777216,null,0,1,null,v)),u.pb(11,16384,null,0,p.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,5,0,n.context.$implicit.showTextOnly),l(n,7,0,n.context.$implicit.showThumbnail),l(n,9,0,!n.context.$implicit.showTextOnly),l(n,11,0,n.context.$implicit.showDetails)}),null)}function L(l){return u.Hb(0,[(l()(),u.qb(0,0,null,null,3,"ion-infinite-scroll",[["threshold","100px"]],null,[[null,"ionInfinite"]],(function(l,n,t){var u=!0;return"ionInfinite"===n&&(u=!1!==l.component.loadMore(t)&&u),u}),c.Q,c.k)),u.pb(1,49152,null,0,h.F,[u.h,u.k,u.x],{threshold:[0,"threshold"]},null),(l()(),u.qb(2,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","bubbles"],["loadingText","\u0db8\u0daf\u0d9a\u0dca \u0dbb\u0dd0\u0daf\u0dd3 \u0dc3\u0dd2\u0da7\u0dd2\u0db1\u0dca\u0db1...."]],null,null,null,c.P,c.l)),u.pb(3,49152,null,0,h.G,[u.h,u.k,u.x],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null)],(function(l,n){l(n,1,0,"100px"),l(n,3,0,"bubbles","\u0db8\u0daf\u0d9a\u0dca \u0dbb\u0dd0\u0daf\u0dd3 \u0dc3\u0dd2\u0da7\u0dd2\u0db1\u0dca\u0db1....")}),null)}function S(l){return u.Hb(0,[(l()(),u.qb(0,0,null,null,12,"ion-header",[],null,null,null,c.N,c.i)),u.pb(1,49152,null,0,h.C,[u.h,u.k,u.x],null,null),(l()(),u.qb(2,0,null,0,10,"ion-toolbar",[],null,null,null,c.jb,c.E)),u.pb(3,49152,null,0,h.Db,[u.h,u.k,u.x],null,null),(l()(),u.qb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,c.I,c.d)),u.pb(5,49152,null,0,h.m,[u.h,u.k,u.x],null,null),(l()(),u.qb(6,0,null,0,2,"ion-back-button",[["text","Back"]],null,[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==u.Cb(l,8).onClick(t)&&i),i}),c.G,c.b)),u.pb(7,49152,null,0,h.h,[u.h,u.k,u.x],{text:[0,"text"]},null),u.pb(8,16384,null,0,h.i,[[2,h.jb],h.Ib],null,null),(l()(),u.fb(16777216,null,0,1,null,d)),u.pb(10,16384,null,0,p.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.fb(16777216,null,0,1,null,m)),u.pb(12,16384,null,0,p.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.qb(13,0,null,null,11,"ion-content",[],null,null,null,c.L,c.g)),u.pb(14,49152,null,0,h.v,[u.h,u.k,u.x],null,null),(l()(),u.fb(16777216,null,0,1,null,x)),u.pb(16,16384,null,0,p.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.qb(17,0,null,0,5,"ion-grid",[],null,null,null,c.M,c.h)),u.pb(18,49152,null,0,h.B,[u.h,u.k,u.x],null,null),(l()(),u.qb(19,0,null,0,3,"ion-row",[],null,null,null,c.Z,c.u)),u.pb(20,49152,null,0,h.kb,[u.h,u.k,u.x],null,null),(l()(),u.fb(16777216,null,0,1,null,M)),u.pb(22,278528,null,0,p.h,[u.L,u.I,u.q],{ngForOf:[0,"ngForOf"]},null),(l()(),u.fb(16777216,null,0,1,null,L)),u.pb(24,16384,null,0,p.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,7,0,"Back"),l(n,10,0,t.showSearchBar),l(n,12,0,!t.showSearchBar),l(n,16,0,t.listTitle),l(n,22,0,t.items),l(n,24,0,t.hasMore)}),null)}function O(l){return u.Hb(0,[(l()(),u.qb(0,0,null,null,1,"app-listing",[],null,null,null,S,g)),u.pb(1,114688,null,0,a,[i.a,f.m,f.a,o.a,e.a],null,null)],(function(l,n){l(n,1,0)}),null)}var B=u.mb("app-listing",a,O,{},{},[]);t.d(n,"ListingPageModuleNgFactory",(function(){return H}));var H=u.nb(r,[],(function(l){return u.zb([u.Ab(512,u.j,u.Y,[[8,[s.a,B]],[3,u.j],u.v]),u.Ab(4608,p.k,p.j,[u.s,[2,p.q]]),u.Ab(4608,b.d,b.d,[]),u.Ab(4608,h.c,h.c,[u.x,u.g]),u.Ab(4608,h.Hb,h.Hb,[h.c,u.j,u.p]),u.Ab(4608,h.Kb,h.Kb,[h.c,u.j,u.p]),u.Ab(1073742336,p.b,p.b,[]),u.Ab(1073742336,b.c,b.c,[]),u.Ab(1073742336,b.a,b.a,[]),u.Ab(1073742336,h.Fb,h.Fb,[]),u.Ab(1073742336,f.n,f.n,[[2,f.s],[2,f.m]]),u.Ab(1073742336,r,r,[]),u.Ab(1024,f.k,(function(){return[[{path:"",component:a}]]}),[])])}))}}]);