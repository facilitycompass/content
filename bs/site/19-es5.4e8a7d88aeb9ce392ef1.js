function _classCallCheck(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(l,n){for(var t=0;t<n.length;t++){var u=n[t];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function _createClass(l,n,t){return n&&_defineProperties(l.prototype,n),t&&_defineProperties(l,t),l}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"N9U+":function(l,n,t){"use strict";t.r(n);var u=t("8Y7J"),e=t("mrSG"),i=t("yTNM"),o=t("j+vm"),a=t("M+h3"),r=function(){function l(n,t,u,e,i){_classCallCheck(this,l),this.api=n,this.route=t,this.itemUtils=u,this.myItemsService=e,this.actionSheet=i,this.items=[],this.hasMore=!1,this.filters={pageIndex:0,pageSize:20,tagIds:"",parentId:0,q:"",showLinkedItems:!1,authorId:0},this.showSearchBar=!1,this.listTitle=null;var o=this.route.snapshot.paramMap.get("tags"),a=this.route.snapshot.paramMap.get("parentId"),r=this.route.snapshot.paramMap.get("showLinkedItems"),s=this.route.snapshot.paramMap.get("authorId");o&&(this.filters.tagIds=o),a&&(this.filters.parentId=parseInt(a)),r&&(this.filters.showLinkedItems=1==parseInt(r)),s&&(this.filters.authorId=parseInt(s))}return _createClass(l,[{key:"ngOnInit",value:function(){this.load((function(){}))}},{key:"loadMore",value:function(l){this.filters.pageIndex++,this.load((function(){l.target.complete()}))}},{key:"load",value:function(l){var n=this;this.api.get("items",this.filters).subscribe((function(t){t.items.forEach((function(l){n.applyItemFix(l)})),0==n.filters.pageIndex&&(n.items=[]),n.items=n.items.concat(t.items),n.hasMore=t.items.length>=n.filters.pageSize,n.showSearchBar=n.items.length>20,n.listTitle=t.title,l&&l()}))}},{key:"applyItemFix",value:function(l){null!=l&&(l.showDetails=(1==l.info||0==l.info||3==l.info)&&(l.authorPhotoUrl||l.author),l.showTextOnly=3==l.info,l.showThumbnail=!l.showTextOnly,l.__css="card-item "+l.__css,l.title&&l.title.length>100&&(l.title=l.title.substring(0,100)+"..."))}},{key:"onSearch",value:function(l){this.filters.pageIndex=0,this.filters.q=l.detail.value,this.load((function(l){}))}},{key:"onCancelSearch",value:function(){this.filters.pageIndex=0,this.filters.q="",this.load((function(l){})),this.showSearchBar=!1}},{key:"onClick",value:function(l){this.itemUtils.onClick(l)}},{key:"options",value:function(l){return e.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,u=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.actionSheet.create({header:"Options",buttons:[{text:"Add to my list",icon:"heart",handler:function(){u.myItemsService.save(l),l.__saved=!0}}]});case 2:return t=n.sent,n.next=5,t.present();case 5:case"end":return n.stop()}}),n,this)})))}}]),l}(),s=function l(){_classCallCheck(this,l)},c=t("pMnS"),b=t("MKJQ"),h=t("s7LF"),f=t("sZkV"),p=t("SVse"),d=t("iInd"),m=u.mb({encapsulation:0,styles:[["ion-grid[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}@media (min-width:1000px){ion-grid[_ngcontent-%COMP%]{margin-left:100px;margin-right:100px}}.card-item[_ngcontent-%COMP%]{width:auto}"]],data:{}});function g(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,3,"ion-searchbar",[["animated",""],["debounce","500"],["placeholder","Search"],["showCancelButton","focus"]],null,[[null,"ionChange"],[null,"ionCancel"],[null,"ionBlur"]],(function(l,n,t){var e=!0,i=l.component;return"ionBlur"===n&&(e=!1!==u.zb(l,3)._handleBlurEvent(t.target)&&e),"ionChange"===n&&(e=!1!==u.zb(l,3)._handleInputEvent(t.target)&&e),"ionChange"===n&&(e=!1!==i.onSearch(t)&&e),"ionCancel"===n&&(e=!1!==i.onCancelSearch()&&e),e}),b.Q,b.s)),u.Ab(5120,null,h.b,(function(l){return[l]}),[f.Hb]),u.nb(2,49152,null,0,f.hb,[u.h,u.k,u.x],{animated:[0,"animated"],debounce:[1,"debounce"],placeholder:[2,"placeholder"],showCancelButton:[3,"showCancelButton"]},null),u.nb(3,16384,null,0,f.Hb,[u.k],null,null)],(function(l,n){l(n,2,0,"","500","Search","focus")}),null)}function x(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,5,"ion-buttons",[["slot","end"]],null,null,null,b.B,b.d)),u.nb(1,49152,null,0,f.l,[u.h,u.k,u.x],null,null),(l()(),u.ob(2,0,null,0,3,"ion-button",[],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=0!=(l.component.showSearchBar=!0)&&u),u}),b.A,b.c)),u.nb(3,49152,null,0,f.k,[u.h,u.k,u.x],null,null),(l()(),u.ob(4,0,null,0,1,"ion-icon",[["name","search"],["slot","icon-only"]],null,null,null,b.H,b.j)),u.nb(5,49152,null,0,f.C,[u.h,u.k,u.x],{name:[0,"name"]},null)],(function(l,n){l(n,5,0,"search")}),null)}function I(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,1,"div",[["class","list-title-1"]],null,null,null,null,null)),(l()(),u.Db(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.component.listTitle)}))}function k(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,2,"div",[["class","text-only-item"]],null,null,null,null,null)),(l()(),u.ob(1,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),u.Db(2,null,["",""]))],null,(function(l,n){l(n,2,0,n.parent.context.$implicit.title)}))}function v(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,0,"img",[["alt","i.title"],["class","img-thumb"]],[[8,"src",4]],null,null,null,null))],null,(function(l,n){l(n,0,0,n.parent.context.$implicit.thumbnailUrl)}))}function w(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,1,"div",[["class","item-title"],["lines","none"]],null,null,null,null,null)),(l()(),u.Db(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.title)}))}function y(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,2,"ion-thumbnail",[["slot","start"]],null,null,null,b.T,b.v)),u.nb(1,49152,null,0,f.wb,[u.h,u.k,u.x],null,null),(l()(),u.ob(2,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null))],null,(function(l,n){l(n,2,0,n.parent.parent.context.$implicit.authorPhotoUrl)}))}function C(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Db(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.parent.parent.context.$implicit.author)}))}function S(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,7,"ion-item",[["lines","none"],["style","color: #fffacd; --background: #2e2e2e"]],null,null,null,b.K,b.m)),u.nb(1,49152,null,0,f.H,[u.h,u.k,u.x],{lines:[0,"lines"]},null),(l()(),u.db(16777216,null,0,1,null,y)),u.nb(3,16384,null,0,p.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.ob(4,0,null,0,3,"ion-label",[["class","ion-text-wrap"]],null,null,null,b.L,b.n)),u.nb(5,49152,null,0,f.N,[u.h,u.k,u.x],null,null),(l()(),u.db(16777216,null,0,1,null,C)),u.nb(7,16384,null,0,p.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,"none"),l(n,3,0,n.parent.context.$implicit.authorPhotoUrl),l(n,7,0,n.parent.context.$implicit.author)}),null)}function _(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,11,"ion-col",[["size-md","6"],["size-sm","12"],["size-xl","3"],["size-xs","12"]],null,null,null,b.D,b.f)),u.nb(1,49152,null,0,f.t,[u.h,u.k,u.x],null,null),(l()(),u.ob(2,0,null,0,9,"div",[],[[8,"className",0]],[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.onClick(l.context.$implicit)&&u),u}),null,null)),(l()(),u.db(16777216,null,null,1,null,k)),u.nb(4,16384,null,0,p.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.db(16777216,null,null,1,null,v)),u.nb(6,16384,null,0,p.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.ob(7,0,null,null,4,"div",[["class","box"]],null,null,null,null,null)),(l()(),u.db(16777216,null,null,1,null,w)),u.nb(9,16384,null,0,p.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.db(16777216,null,null,1,null,S)),u.nb(11,16384,null,0,p.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,4,0,n.context.$implicit.showTextOnly),l(n,6,0,n.context.$implicit.showThumbnail),l(n,9,0,!n.context.$implicit.showTextOnly),l(n,11,0,n.context.$implicit.showDetails)}),(function(l,n){l(n,2,0,n.context.$implicit.__css)}))}function E(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,3,"ion-infinite-scroll",[["threshold","100px"]],null,[[null,"ionInfinite"]],(function(l,n,t){var u=!0;return"ionInfinite"===n&&(u=!1!==l.component.loadMore(t)&&u),u}),b.J,b.k)),u.nb(1,49152,null,0,f.E,[u.h,u.k,u.x],{threshold:[0,"threshold"]},null),(l()(),u.ob(2,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","bubbles"],["loadingText","\u0db8\u0daf\u0d9a\u0dca \u0dbb\u0dd0\u0daf\u0dd3 \u0dc3\u0dd2\u0da7\u0dd2\u0db1\u0dca\u0db1...."]],null,null,null,b.I,b.l)),u.nb(3,49152,null,0,f.F,[u.h,u.k,u.x],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null)],(function(l,n){l(n,1,0,"100px"),l(n,3,0,"bubbles","\u0db8\u0daf\u0d9a\u0dca \u0dbb\u0dd0\u0daf\u0dd3 \u0dc3\u0dd2\u0da7\u0dd2\u0db1\u0dca\u0db1....")}),null)}function B(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,12,"ion-header",[],null,null,null,b.G,b.i)),u.nb(1,49152,null,0,f.B,[u.h,u.k,u.x],null,null),(l()(),u.ob(2,0,null,0,10,"ion-toolbar",[],null,null,null,b.V,b.x)),u.nb(3,49152,null,0,f.zb,[u.h,u.k,u.x],null,null),(l()(),u.ob(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,b.B,b.d)),u.nb(5,49152,null,0,f.l,[u.h,u.k,u.x],null,null),(l()(),u.ob(6,0,null,0,2,"ion-back-button",[["defaultHref","#/"],["text","Back"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.zb(l,8).onClick(t)&&e),e}),b.z,b.b)),u.nb(7,49152,null,0,f.g,[u.h,u.k,u.x],{defaultHref:[0,"defaultHref"],text:[1,"text"]},null),u.nb(8,16384,null,0,f.h,[[2,f.fb],f.Eb,f.d],{defaultHref:[0,"defaultHref"]},null),(l()(),u.db(16777216,null,0,1,null,g)),u.nb(10,16384,null,0,p.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.db(16777216,null,0,1,null,x)),u.nb(12,16384,null,0,p.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.ob(13,0,null,null,11,"ion-content",[],null,null,null,b.E,b.g)),u.nb(14,49152,null,0,f.u,[u.h,u.k,u.x],null,null),(l()(),u.db(16777216,null,0,1,null,I)),u.nb(16,16384,null,0,p.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.ob(17,0,null,0,5,"ion-grid",[],null,null,null,b.F,b.h)),u.nb(18,49152,null,0,f.A,[u.h,u.k,u.x],null,null),(l()(),u.ob(19,0,null,0,3,"ion-row",[],null,null,null,b.P,b.r)),u.nb(20,49152,null,0,f.gb,[u.h,u.k,u.x],null,null),(l()(),u.db(16777216,null,0,1,null,_)),u.nb(22,278528,null,0,p.h,[u.L,u.I,u.q],{ngForOf:[0,"ngForOf"]},null),(l()(),u.db(16777216,null,0,1,null,E)),u.nb(24,16384,null,0,p.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,7,0,"#/","Back"),l(n,8,0,"#/"),l(n,10,0,t.showSearchBar),l(n,12,0,!t.showSearchBar),l(n,16,0,t.listTitle),l(n,22,0,t.items),l(n,24,0,t.hasMore)}),null)}var L=u.kb("app-listing",r,(function(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,1,"app-listing",[],null,null,null,B,m)),u.nb(1,114688,null,0,r,[i.a,d.a,o.a,a.a,f.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]);t.d(n,"ListingPageModuleNgFactory",(function(){return M}));var M=u.lb(s,[],(function(l){return u.wb([u.xb(512,u.j,u.W,[[8,[c.a,L]],[3,u.j],u.v]),u.xb(4608,p.k,p.j,[u.s,[2,p.q]]),u.xb(4608,h.d,h.d,[]),u.xb(4608,f.c,f.c,[u.x,u.g]),u.xb(4608,f.Db,f.Db,[f.c,u.j,u.p]),u.xb(4608,f.Gb,f.Gb,[f.c,u.j,u.p]),u.xb(1073742336,p.b,p.b,[]),u.xb(1073742336,h.c,h.c,[]),u.xb(1073742336,h.a,h.a,[]),u.xb(1073742336,f.Bb,f.Bb,[]),u.xb(1073742336,d.n,d.n,[[2,d.s],[2,d.m]]),u.xb(1073742336,s,s,[]),u.xb(1024,d.k,(function(){return[[{path:"",component:r}]]}),[])])}))}}]);