(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"N9U+":function(l,n,t){"use strict";t.r(n);var u=t("8Y7J"),i=t("mrSG"),e=t("yTNM"),o=t("j+vm"),s=t("M+h3");class a{constructor(l,n,t,u,i){this.api=l,this.route=n,this.itemUtils=t,this.myItemsService=u,this.actionSheet=i,this.items=[],this.hasMore=!1,this.filters={pageIndex:0,pageSize:20,tagIds:"",parentId:0,q:"",showLinkedItems:!1,authorId:0},this.showSearchBar=!1,this.listTitle=null;const e=this.route.snapshot.paramMap.get("tags"),o=this.route.snapshot.paramMap.get("parentId"),s=this.route.snapshot.paramMap.get("showLinkedItems"),a=this.route.snapshot.paramMap.get("authorId");e&&(this.filters.tagIds=e),o&&(this.filters.parentId=parseInt(o)),s&&(this.filters.showLinkedItems=1==parseInt(s)),a&&(this.filters.authorId=parseInt(a))}ngOnInit(){this.load((function(){}))}loadMore(l){this.filters.pageIndex++,this.load((function(){l.target.complete()}))}load(l){this.api.get("items",this.filters).subscribe(n=>{n.items.forEach(l=>{this.applyItemFix(l)}),0==this.filters.pageIndex&&(this.items=[]),this.items=this.items.concat(n.items),this.hasMore=n.items.length>=this.filters.pageSize,this.showSearchBar=this.items.length>20,this.listTitle=n.title,l&&l()})}applyItemFix(l){null!=l&&(l.showDetails=(1==l.info||0==l.info||3==l.info)&&(l.authorPhotoUrl||l.author),l.showTextOnly=3==l.info,l.showThumbnail=!l.showTextOnly,l.__css="card-item "+l.__css,l.title&&l.title.length>100&&(l.title=l.title.substring(0,100)+"..."))}onSearch(l){this.filters.pageIndex=0,this.filters.q=l.detail.value,this.load(l=>{})}onCancelSearch(){this.filters.pageIndex=0,this.filters.q="",this.load(l=>{}),this.showSearchBar=!1}onClick(l){this.itemUtils.onClick(l)}options(l){return i.a(this,void 0,void 0,(function*(){const n=yield this.actionSheet.create({header:"Options",buttons:[{text:"Add to my list",icon:"heart",handler:()=>{this.myItemsService.save(l),l.__saved=!0}}]});yield n.present()}))}}class r{}var c=t("pMnS"),h=t("MKJQ"),b=t("s7LF"),f=t("sZkV"),d=t("SVse"),p=t("iInd"),m=u.mb({encapsulation:0,styles:[["ion-grid[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}@media (min-width:1000px){ion-grid[_ngcontent-%COMP%]{margin-left:100px;margin-right:100px}}.card-item[_ngcontent-%COMP%]{width:auto}"]],data:{}});function g(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,3,"ion-searchbar",[["animated",""],["debounce","500"],["placeholder","Search"],["showCancelButton","focus"]],null,[[null,"ionChange"],[null,"ionCancel"],[null,"ionBlur"]],(function(l,n,t){var i=!0,e=l.component;return"ionBlur"===n&&(i=!1!==u.zb(l,3)._handleBlurEvent(t.target)&&i),"ionChange"===n&&(i=!1!==u.zb(l,3)._handleInputEvent(t.target)&&i),"ionChange"===n&&(i=!1!==e.onSearch(t)&&i),"ionCancel"===n&&(i=!1!==e.onCancelSearch()&&i),i}),h.Q,h.s)),u.Ab(5120,null,b.b,(function(l){return[l]}),[f.Hb]),u.nb(2,49152,null,0,f.hb,[u.h,u.k,u.x],{animated:[0,"animated"],debounce:[1,"debounce"],placeholder:[2,"placeholder"],showCancelButton:[3,"showCancelButton"]},null),u.nb(3,16384,null,0,f.Hb,[u.k],null,null)],(function(l,n){l(n,2,0,"","500","Search","focus")}),null)}function x(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,5,"ion-buttons",[["slot","end"]],null,null,null,h.B,h.d)),u.nb(1,49152,null,0,f.l,[u.h,u.k,u.x],null,null),(l()(),u.ob(2,0,null,0,3,"ion-button",[],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=0!=(l.component.showSearchBar=!0)&&u),u}),h.A,h.c)),u.nb(3,49152,null,0,f.k,[u.h,u.k,u.x],null,null),(l()(),u.ob(4,0,null,0,1,"ion-icon",[["name","search"],["slot","icon-only"]],null,null,null,h.H,h.j)),u.nb(5,49152,null,0,f.C,[u.h,u.k,u.x],{name:[0,"name"]},null)],(function(l,n){l(n,5,0,"search")}),null)}function I(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,1,"div",[["class","list-title-1"]],null,null,null,null,null)),(l()(),u.Db(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.component.listTitle)}))}function k(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,2,"div",[["class","text-only-item"]],null,null,null,null,null)),(l()(),u.ob(1,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),u.Db(2,null,["",""]))],null,(function(l,n){l(n,2,0,n.parent.context.$implicit.title)}))}function w(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,0,"img",[["alt","i.title"],["class","img-thumb"]],[[8,"src",4]],null,null,null,null))],null,(function(l,n){l(n,0,0,n.parent.context.$implicit.thumbnailUrl)}))}function v(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,1,"div",[["class","item-title"],["lines","none"]],null,null,null,null,null)),(l()(),u.Db(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.title)}))}function S(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,2,"ion-thumbnail",[["slot","start"]],null,null,null,h.T,h.v)),u.nb(1,49152,null,0,f.wb,[u.h,u.k,u.x],null,null),(l()(),u.ob(2,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null))],null,(function(l,n){l(n,2,0,n.parent.parent.context.$implicit.authorPhotoUrl)}))}function B(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Db(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.parent.parent.context.$implicit.author)}))}function E(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,7,"ion-item",[["lines","none"],["style","color: #fffacd; --background: #2e2e2e"]],null,null,null,h.K,h.m)),u.nb(1,49152,null,0,f.H,[u.h,u.k,u.x],{lines:[0,"lines"]},null),(l()(),u.db(16777216,null,0,1,null,S)),u.nb(3,16384,null,0,d.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.ob(4,0,null,0,3,"ion-label",[["class","ion-text-wrap"]],null,null,null,h.L,h.n)),u.nb(5,49152,null,0,f.N,[u.h,u.k,u.x],null,null),(l()(),u.db(16777216,null,0,1,null,B)),u.nb(7,16384,null,0,d.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,"none"),l(n,3,0,n.parent.context.$implicit.authorPhotoUrl),l(n,7,0,n.parent.context.$implicit.author)}),null)}function C(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,11,"ion-col",[["size-md","6"],["size-sm","12"],["size-xl","3"],["size-xs","12"]],null,null,null,h.D,h.f)),u.nb(1,49152,null,0,f.t,[u.h,u.k,u.x],null,null),(l()(),u.ob(2,0,null,0,9,"div",[],[[8,"className",0]],[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.onClick(l.context.$implicit)&&u),u}),null,null)),(l()(),u.db(16777216,null,null,1,null,k)),u.nb(4,16384,null,0,d.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.db(16777216,null,null,1,null,w)),u.nb(6,16384,null,0,d.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.ob(7,0,null,null,4,"div",[["class","box"]],null,null,null,null,null)),(l()(),u.db(16777216,null,null,1,null,v)),u.nb(9,16384,null,0,d.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.db(16777216,null,null,1,null,E)),u.nb(11,16384,null,0,d.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,4,0,n.context.$implicit.showTextOnly),l(n,6,0,n.context.$implicit.showThumbnail),l(n,9,0,!n.context.$implicit.showTextOnly),l(n,11,0,n.context.$implicit.showDetails)}),(function(l,n){l(n,2,0,n.context.$implicit.__css)}))}function y(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,3,"ion-infinite-scroll",[["threshold","100px"]],null,[[null,"ionInfinite"]],(function(l,n,t){var u=!0;return"ionInfinite"===n&&(u=!1!==l.component.loadMore(t)&&u),u}),h.J,h.k)),u.nb(1,49152,null,0,f.E,[u.h,u.k,u.x],{threshold:[0,"threshold"]},null),(l()(),u.ob(2,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","bubbles"],["loadingText","\u0db8\u0daf\u0d9a\u0dca \u0dbb\u0dd0\u0daf\u0dd3 \u0dc3\u0dd2\u0da7\u0dd2\u0db1\u0dca\u0db1...."]],null,null,null,h.I,h.l)),u.nb(3,49152,null,0,f.F,[u.h,u.k,u.x],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null)],(function(l,n){l(n,1,0,"100px"),l(n,3,0,"bubbles","\u0db8\u0daf\u0d9a\u0dca \u0dbb\u0dd0\u0daf\u0dd3 \u0dc3\u0dd2\u0da7\u0dd2\u0db1\u0dca\u0db1....")}),null)}function L(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,12,"ion-header",[],null,null,null,h.G,h.i)),u.nb(1,49152,null,0,f.B,[u.h,u.k,u.x],null,null),(l()(),u.ob(2,0,null,0,10,"ion-toolbar",[],null,null,null,h.V,h.x)),u.nb(3,49152,null,0,f.zb,[u.h,u.k,u.x],null,null),(l()(),u.ob(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,h.B,h.d)),u.nb(5,49152,null,0,f.l,[u.h,u.k,u.x],null,null),(l()(),u.ob(6,0,null,0,2,"ion-back-button",[["defaultHref","#/"],["text","Back"]],null,[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==u.zb(l,8).onClick(t)&&i),i}),h.z,h.b)),u.nb(7,49152,null,0,f.g,[u.h,u.k,u.x],{defaultHref:[0,"defaultHref"],text:[1,"text"]},null),u.nb(8,16384,null,0,f.h,[[2,f.fb],f.Eb,f.d],{defaultHref:[0,"defaultHref"]},null),(l()(),u.db(16777216,null,0,1,null,g)),u.nb(10,16384,null,0,d.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.db(16777216,null,0,1,null,x)),u.nb(12,16384,null,0,d.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.ob(13,0,null,null,11,"ion-content",[],null,null,null,h.E,h.g)),u.nb(14,49152,null,0,f.u,[u.h,u.k,u.x],null,null),(l()(),u.db(16777216,null,0,1,null,I)),u.nb(16,16384,null,0,d.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.ob(17,0,null,0,5,"ion-grid",[],null,null,null,h.F,h.h)),u.nb(18,49152,null,0,f.A,[u.h,u.k,u.x],null,null),(l()(),u.ob(19,0,null,0,3,"ion-row",[],null,null,null,h.P,h.r)),u.nb(20,49152,null,0,f.gb,[u.h,u.k,u.x],null,null),(l()(),u.db(16777216,null,0,1,null,C)),u.nb(22,278528,null,0,d.h,[u.L,u.I,u.q],{ngForOf:[0,"ngForOf"]},null),(l()(),u.db(16777216,null,0,1,null,y)),u.nb(24,16384,null,0,d.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,7,0,"#/","Back"),l(n,8,0,"#/"),l(n,10,0,t.showSearchBar),l(n,12,0,!t.showSearchBar),l(n,16,0,t.listTitle),l(n,22,0,t.items),l(n,24,0,t.hasMore)}),null)}function M(l){return u.Eb(0,[(l()(),u.ob(0,0,null,null,1,"app-listing",[],null,null,null,L,m)),u.nb(1,114688,null,0,a,[e.a,p.a,o.a,s.a,f.a],null,null)],(function(l,n){l(n,1,0)}),null)}var T=u.kb("app-listing",a,M,{},{},[]);t.d(n,"ListingPageModuleNgFactory",(function(){return $}));var $=u.lb(r,[],(function(l){return u.wb([u.xb(512,u.j,u.W,[[8,[c.a,T]],[3,u.j],u.v]),u.xb(4608,d.k,d.j,[u.s,[2,d.q]]),u.xb(4608,b.d,b.d,[]),u.xb(4608,f.c,f.c,[u.x,u.g]),u.xb(4608,f.Db,f.Db,[f.c,u.j,u.p]),u.xb(4608,f.Gb,f.Gb,[f.c,u.j,u.p]),u.xb(1073742336,d.b,d.b,[]),u.xb(1073742336,b.c,b.c,[]),u.xb(1073742336,b.a,b.a,[]),u.xb(1073742336,f.Bb,f.Bb,[]),u.xb(1073742336,p.n,p.n,[[2,p.s],[2,p.m]]),u.xb(1073742336,r,r,[]),u.xb(1024,p.k,(function(){return[[{path:"",component:a}]]}),[])])}))}}]);