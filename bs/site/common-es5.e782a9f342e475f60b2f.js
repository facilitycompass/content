function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function asyncGeneratorStep(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,i)}function _asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){asyncGeneratorStep(a,r,i,o,s,"next",t)}function s(t){asyncGeneratorStep(a,r,i,o,s,"throw",t)}o(void 0)}))}}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"6i10":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={bubbles:{dur:1e3,circles:9,fn:function(t,e,n){var r="".concat(t*e/n-t,"ms"),i=2*Math.PI*e/n;return{r:5,style:{top:"".concat(9*Math.sin(i),"px"),left:"".concat(9*Math.cos(i),"px"),"animation-delay":r}}}},circles:{dur:1e3,circles:8,fn:function(t,e,n){var r=e/n,i="".concat(t*r-t,"ms"),a=2*Math.PI*r;return{r:5,style:{top:"".concat(9*Math.sin(a),"px"),left:"".concat(9*Math.cos(a),"px"),"animation-delay":i}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:function(){return{r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}}}},crescent:{dur:750,circles:1,fn:function(){return{r:26,style:{}}}},dots:{dur:750,circles:3,fn:function(t,e){return{r:6,style:{left:"".concat(9-9*e,"px"),"animation-delay":-110*e+"ms"}}}},lines:{dur:1e3,lines:12,fn:function(t,e,n){return{y1:17,y2:29,style:{transform:"rotate(".concat(30*e+(e<6?180:-180),"deg)"),"animation-delay":"".concat(t*e/n-t,"ms")}}}},"lines-small":{dur:1e3,lines:12,fn:function(t,e,n){return{y1:12,y2:20,style:{transform:"rotate(".concat(30*e+(e<6?180:-180),"deg)"),"animation-delay":"".concat(t*e/n-t,"ms")}}}}}},KwJk:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return s}));var r=function(t,e){return null!==e.closest(t)},i=function(t){return"string"==typeof t&&t.length>0?_defineProperty({"ion-color":!0},"ion-color-".concat(t),!0):void 0},a=function(t){var e={};return function(t){return void 0!==t?(Array.isArray(t)?t:t.split(" ")).filter((function(t){return null!=t})).map((function(t){return t.trim()})).filter((function(t){return""!==t})):[]}(t).forEach((function(t){return e[t]=!0})),e},o=/^[a-z][a-z0-9+\-.]*:/,s=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(e,n,r){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e||"#"===e[0]||o.test(e)){t.next=4;break}if(!(i=document.querySelector("ion-router"))){t.next=4;break}return t.abrupt("return",(null!=n&&n.preventDefault(),i.push(e,r)));case 4:return t.abrupt("return",!1);case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},"M+h3":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("OaAi"),i=n("yTNM"),a=n("8Y7J"),o=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.api=e,this.utils=n}return _createClass(t,[{key:"save",value:function(t){var e=this;t&&this.utils.ensureLogin().then((function(){e.api.post("my-items/save",{userId:1,itemId:t.id,action:1}).subscribe((function(t){}))}))}}]),t}();return t.ngInjectableDef=a.Hb({factory:function(){return new t(a.Ib(i.a),a.Ib(r.a))},token:t,providedIn:"root"}),t}()},NqGI:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var r=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(e,n,r,i,a){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=2;break}return t.abrupt("return",e.attachViewToDom(n,r,a,i));case 2:if("string"==typeof r||r instanceof HTMLElement){t.next=4;break}throw new Error("framework delegate is missing");case 4:if(o="string"==typeof r?n.ownerDocument&&n.ownerDocument.createElement(r):r,i&&i.forEach((function(t){return o.classList.add(t)})),a&&Object.assign(o,a),n.appendChild(o),t.t0=o.componentOnReady,!t.t0){t.next=12;break}return t.next=12,o.componentOnReady();case 12:return t.abrupt("return",o);case 13:case"end":return t.stop()}}),t)})));return function(e,n,r,i,a){return t.apply(this,arguments)}}(),i=function(t,e){if(e){if(t)return t.removeViewFromDom(e.parentElement,e);e.remove()}return Promise.resolve()}},OaAi:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("t8sF"),i=n("yTNM"),a=n("8Y7J"),o=n("sZkV"),s=function(){var t=function(){function t(e,n,r,i){_classCallCheck(this,t),this.file=e,this.alertController=n,this.api=r,this.platform=i,this.localCache={}}return _createClass(t,[{key:"getPlatformSize",value:function(){var t=this.platform.width();return{isSmall:t<576,isMedium:t>=576&&t<=768,isLarge:t>768&&t<=1024,isVeryLarge:t>1024}}},{key:"ensureLogin",value:function(){var t=this;return new Promise((function(e,n){t.api.isLoggedIn()?e():t.alertController.create({header:"Sign in",inputs:[{name:"Email",type:"text",placeholder:"Email Address"},{name:"Password",type:"password",placeholder:"Password"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){}},{text:"Sign in",handler:function(n){t.api.post("account/login-token",{u:n.Email,p:n.Password}).subscribe((function(n){!0===n.success&&n.token?(t.api.setToken(n.token),e()):t.alertController.create({header:"Alert",subHeader:"Sign in",message:n.message||"Sign in failed.",buttons:["OK"]})}))}}]}).then((function(t){t.present()}))}))}},{key:"getCached",value:function(t,e,n){var r=this;return new Promise((function(i,a){r.getFromLocalCache(t).then((function(a){null!=a&&i(a),n.then((function(n){i(n),r.writeToLocalCache(t,e,n)}))}))}))}},{key:"writeToLocalCache",value:function(t,e,n){var r={data:n,expiry:new Date((new Date).getTime()+60*e*1e3)},i="cache_".concat(t,".json");return this.localCache[t]=r,this.platform.is("cordova")?this.file.writeFile(this.file.dataDirectory,i,JSON.stringify(r),{replace:!0,append:!1}):new Promise((function(t){return t()}))}},{key:"isCacheExpired",value:function(t){return null===t||new Date(t.expiry).getTime()<=(new Date).getTime()}},{key:"deleteAllCache",value:function(){var t=this;this.file.listDir(this.file.dataDirectory,"").then((function(e){e.forEach((function(e){t.file.removeFile(t.file.dataDirectory,e.name)}))}))}},{key:"getFromLocalCache",value:function(t){var e=this;return new Promise((function(n,r){if(!e.localCache[t]||e.isCacheExpired(e.localCache[t])){e.platform.is("cordova")||n(null);var i="cache_".concat(t,".json");e.file.checkFile(e.file.dataDirectory,i).then((function(t){!0===t?e.file.readAsText(e.file.dataDirectory,i).then((function(t){e.isCacheExpired(t)?n(null):n(JSON.parse(t).data)})).catch((function(t){return n(null)})):n(null)})).catch((function(t){return n(null)}))}else n(e.localCache[t].data)}))}}]),t}();return t.ngInjectableDef=a.Hb({factory:function(){return new t(a.Ib(r.a),a.Ib(o.b),a.Ib(i.a),a.Ib(o.Fb))},token:t,providedIn:"root"}),t}()},cxwz:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("8Y7J"),i=function(){var t=function(){function t(){_classCallCheck(this,t),this.stats={tags:[],authors:[],links:[]};var e=localStorage.getItem("rec-tags"),n=localStorage.getItem("rec-authors"),r=localStorage.getItem("rec-links");if(e)try{this.stats.tags=e.split(",").map((function(t){return parseInt(t)})),this.stats.authors=n.split(",").map((function(t){return parseInt(t)})),this.stats.links=r.split(",").map((function(t){return parseInt(t)}))}catch(i){}}return _createClass(t,[{key:"getStats",value:function(){return this.stats}},{key:"track",value:function(t){try{if(t.__isTag)return this.addId(this.stats.tags,t.id),void this.save();if(t.__isAuthor)return this.addId(this.stats.authors,t.id),void this.save();if(t.authorId&&this.addId(this.stats.authors,t.authorId),t.tags&&t.tags.length>0)for(var e=0;e<t.tags.length;e++)this.addId(this.stats.tags,t.tags[e]);if(t.links&&t.links.length>0)for(var n=0;n<t.links.length;n++)this.addId(this.stats.links,t.links[n]);this.save()}catch(r){console.log(r)}}},{key:"save",value:function(){localStorage.setItem("rec-tags",this.stats.tags.join(",")),localStorage.setItem("rec-authors",this.stats.authors.join(",")),localStorage.setItem("rec-links",this.stats.links.join(","))}},{key:"addId",value:function(t,e){for(var n=-1,r=0;r<t.length;r++)if(t[r]===e){n=r;break}n>-1&&t.splice(n,1),t.unshift(e),t.length>25&&t.pop()}}]),t}();return t.ngInjectableDef=r.Hb({factory:function(){return new t},token:t,providedIn:"root"}),t}()},fzvj:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return r}));var r=function(){var t=window.TapticEngine;t&&t.selection()},i=function(){var t=window.TapticEngine;t&&t.gestureSelectionStart()},a=function(){var t=window.TapticEngine;t&&t.gestureSelectionChanged()},o=function(){var t=window.TapticEngine;t&&t.gestureSelectionEnd()}},"j+vm":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("nSqr"),i=n("cxwz"),a=n("8Y7J"),o=n("iInd"),s=n("sZkV"),c=function(){var t=function(){function t(e,n,r,i){_classCallCheck(this,t),this.router=e,this.platform=n,this.appLauncher=r,this.recommondations=i}return _createClass(t,[{key:"openExternalLink",value:function(t){window.open(t,"_system")}},{key:"onClick",value:function(t){var e=this;if(this.recommondations.track(t),t.__isTag)this.router.navigate(["listing",{parentId:0,tags:t.id,showLinkedItems:1}]);else if(t.__isAuthor)this.router.navigate(["listing",{authorId:t.id}]);else switch(t.type){case 1:var n={};this.platform.is("hybrid")?(this.platform.is("ios")?n.uri="youtube://":n.packageName="com.google.android.youtube",this.appLauncher.canLaunch(n).then((function(n){n||e.openInBrowser(t)})).catch((function(n){e.openInBrowser(t)}))):this.openInBrowser(t),this.saveToHistory(t);break;case 4:this.openExternalLink(t.url);break;case 5:this.router.navigate(["listing",{parentId:t.id,showLinkedItems:1}])}}},{key:"openInBrowser",value:function(t){var e=t.url.replace("https://www.youtube.com/embed/","https://youtu.be/");e=e.substring(0,t.url.indexOf("?")),window.open(e,"_system")}},{key:"saveToHistory",value:function(t){var e=window.localStorage,n=JSON.parse(e.getItem("history"))||[];n.unshift({i:t.id,t:t.title,p:t.thumbnailUrl}),n.length>10&&n.pop(),e.setItem("history",JSON.stringify(n))}}]),t}();return t.ngInjectableDef=a.Hb({factory:function(){return new t(a.Ib(o.m),a.Ib(s.Fb),a.Ib(r.a),a.Ib(i.a))},token:t,providedIn:"root"}),t}()}}]);